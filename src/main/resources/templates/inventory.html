<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <title>库存系统</title>
</head>
<body>
<h1>仓库管理系统</h1>

<a href="insertCommunity">新增商品</a><br>


<form
        method="post">
<table class="table table-bordered">
    <tr><th>全选<input type="checkbox" id="check"> </th>
        <th>序号</th>
        <th>ID  </th>
        <th>名称 </th>
        <th>价格 </th>
        <th>数量 </th>
        <th>操作 </th></tr>

    <tr th:each="commodity:${commodities}">
        <td><input type="checkbox" name= mid[] th:value="${commodity.cid}"></td>
        <td th:text="${commodityStat.index+1}"></td>
        <td th:text="${commodity.cid}"></td>
        <td th:text="${commodity.name}"></td>
        <td th:text="${commodity.price}"></td>
        <td th:text="${commodity.quantity}"></td>
        <td>
            <a th:href="@{'/inventory/update/' + ${commodity.getCid()}}">修改</a>
            <a th:href="@{'/inventory/delete/' + ${commodity.getCid()}}">删除</a>
        </td>
    </tr>
</table>

    <input type="submit" value="提交">
</form>


<script>
    document.getElementById("check").onclick = function(){
        var checked = document.getElementById("check").checked;
        var checkson = document.getElementsByName("mid[]");
        if(checked){
            for(var i = 0; i < checkson.length ;i++){
                checkson[i].checked = true;
            }
        }else{
            for(var i = 0; i < checkson.length ;i++){
                checkson[i].checked = false;
            }
        }
    }
</script>

</body>
</html>